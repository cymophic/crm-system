<!-- Reusable Component: Radio Button Group -->

<div class="flex flex-col group {{ margin_class }} {% if col_span == '2' %}lg:col-span-2{% elif col_span == '3' %}lg:col-span-3{% endif %}">
    <div class="flex flex-col gap-2">
        <!-- Label -->
        <label class="block font-semibold text-sm text-(--text-title)">
            {{ label }}
            {% if required %}
                <span class="text-(--color-important)">
                    *
                </span>
            {% endif %}
        </label>

        <!-- Radio Options -->
        <div class="flex flex-col gap-3">
            {% for option in options %}
                <div class="flex items-start gap-3">
                    <!-- Radio Input -->
                    <input
                        type="radio"
                        name="{{ name }}"
                        id="{{ id }}_{{ forloop.counter }}"
                        value="{{ option.value }}"
                        {% if option.value == value or option.value|stringformat:"s" == value|stringformat:"s" %}
                            checked
                        {% endif %}
                        {% if required %}
                            required
                        {% endif %}
                        class="mt-0.5 h-4 w-4 text-(--color-accent) focus:ring-(--color-accent)
                               {% if has_error %}
                                   border-(--input-border-error)
                               {% else %}
                                   border-(--border-strong)
                               {% endif %}"
                    >

                    <!-- Option Label -->
                    <label for="{{ id }}_{{ forloop.counter }}" class="block text-sm text-(--text-title) cursor-pointer">
                        {{ option.label }}
                    </label>
                </div>
            {% endfor %}
        </div>

        <!-- Error Message -->
        {% if error_message %}
            <span class="text-(--text-error) text-xs">
                {{ error_message }}
            </span>
        {% endif %}

        <!-- Help Text -->
        {% if help_text and not error_message %}
            <span class="text-(--text-muted) text-xs">
                {{ help_text|safe }}
            </span>
        {% endif %}
    </div>
</div>